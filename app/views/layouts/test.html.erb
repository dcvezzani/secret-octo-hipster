<!DOCTYPE html>
<html lang="en">
<head>
  <title>Test</title>
  <%= stylesheet_link_tag    "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>

  <style type="text/css">
    /*   height: 300px; /* row.navbar-main.height + row.navbar-main.padding-bottom = >this< */ 
    /* .header{ */
    /*   background-color: blue; */
    /*   color: white;  */
    /*   position: absolute; */
    /*   width: 100%; */
    /*   left: 0; */
    /*   top: 0; */
    /*   padding: 0; */
    /*   margin: 0; */
    /*   z-index: -10; */

    /* } */

    .header-wrapper {
      background-color: #221E1F;
      height: 200px;
      position: relative;
      width: 100%;
    }
    .header-wrapper.narrow {
      background-color: #221E1F;
      height: 200px;
      padding-top: 0;
      position: relative;
      width: 100%;
    }
    .header {
      background: url("/assets/layout/headerBlackBg.png") no-repeat scroll 0 0 transparent;
      color: #FFFFFF;
      height: 200px;
      position: relative;
    }

    /* .header { */
    /*   background-color: blue;  */
    /*   color: #FFFFFF; */
    /*   padding: 20px 0; */
    /*   position: relative; */
    /* } */

    .header.narrow {
      text-align: center;
      margin-left: -20px;
      margin-right: -20px;
      margin-top: 0;
      padding: 0 4em;
    }


    /* space at top of main body */
    .container.controller-messages{
      margin-top: 2em;
    }

    /* space at bottom of main body */
    .row.main-content{
      margin-bottom: 2em;
    }

    .header .header-content {
      margin: 0 auto;
      padding-top: 4em;
      text-align: center;
    }
    .header .header-content p.lead{
      font-size: 20pt;
    }
    .header .header-content h1{
      font-size: 50pt;
      line-height: 70px;
    }

    .header .header-content.narrow{
      padding-left: 0;
      padding-right: 0;
      margin-left: 0;
      margin-right: 0;
      margin-top: 0;
    }
    .header .header-content.narrow h1{
      font-size: 40pt;
      text-align: center; 
    }
    .header .header-content.narrow p.lead{
      font-size: 16pt;
      text-align: center; 
    }

    .navbar-main {
      background-color: #1B1B1B; 
      /* border-radius: 0 0 0 0; */
    }
    .navbar-main.narrow {
      margin: 0 -20px;
    }

    #page-navigation ul li.active a{
      background-color: blue; 
      color: white; 
      border: blue; 
    }
    #page-navigation ul li.active i{
      background-image: url("/assets/img/glyphicons-halflings-white.png");
    }

    ul.pager.wizard li.group li, 
    ul.pager.wizard li.group.pull-left{
      float: left; 
    }
    ul.pager.wizard li.pull-right{
      float: right; 
    }

    .wiz-item.disabled{
      opacity:0.4;
      filter:alpha(opacity=40); /* For IE8 and earlier */
    }

    a.action{
      background-color: transparent;
      border: 0;
      cursor: pointer;
    }

    /* I'm not sure that the twitter-bootstrap wizard buttons were intended to be nested in an additional list.  Apply this style to  */
    /* get rid of the extra padding to the left so that the buttons hug the left margin. */
    ul.pager ul{
      margin-left: 0;
    }

    .table-actions .btn-group .btn{
      margin-bottom: 1em; 
    }

    .well-outline{
      background-color: transparent; 
    }

    .navbar-custom .navbar-inner {
      /* background-image: linear-gradient(to bottom, #222222, #111111); */
      background: url("/assets/layout/goldenBlock1.png") repeat-x #9D6E30;
      border-color: #9D6E30;
      border-radius: 0; 
      color: white; 
    }
    .navbar-custom .brand, .navbar-custom .nav > li > a{
      color: white; 
    }
    .navbar-custom .nav-collapse .nav > li > a, .navbar-custom .nav-collapse .dropdown-menu a {
      color: #FFFFFF;
    }
    .navbar-custom .nav .active > a{
      background-color: #CF9A33;
      color: black;
    }
    .navbar-custom .brand:hover, 
    .navbar-custom .nav .active > a:hover, .navbar-custom .nav .active > a:focus, 
    .navbar-custom .nav > li > a:focus, .navbar-custom .nav > li > a:hover{
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.125) inset;
      background-color: #DFB461;
      color: black;
    }
    .navbar-custom .btn-navbar {
      background-color: #6F4714;
      background-image: linear-gradient(to bottom, #8F6023, #6F4714);
      background-repeat: repeat-x;
      border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);
      text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
    }
    .navbar-custom .btn-navbar:hover,
    .navbar-custom .btn-navbar:active,
    .navbar-custom .btn-navbar.active,
    .navbar-custom .btn-navbar.disabled,
    .navbar-custom .btn-navbar[disabled] {
      color: black;
      background-color: #4F330F;
      *background-color: #000000;
    }
    .navbar-custom .nav-collapse .nav > li > a:hover,
    .navbar-custom .nav-collapse .dropdown-menu a:hover {
      background-color: #DFB461;
    }
    
    

    .navbar-main .navbar-inner .container .nav-collapse .nav{
      margin: 0 auto; 
      float: none; 
      width: 475px;
    }

    .navbar-main .navbar-inner .container .nav-collapse.narrow .nav{
      margin: 0 0 25px;
      float: left; 
      width: 100%;
    }

    .implicit-link:hover{
      background-color: transparent;
      border: 0;
    }

    .table .navbar .btn, .navbar .btn-group{
      margin-top: 0;
    }

    .title-control h4, 
    .title-control h3, 
    .title-control h2, 
    .title-control h1{
      width: auto; 
      float: left; 
    }

    .title-control .table-actions{
      float: right; 
    }

    .title-control h4, 
    .title-control h3, 
    .title-control h2, 
    .title-control h1, 
    .title-control .table-actions{
      margin-top: 0; 
      margin-bottom: 0; 
      padding-top: 0; 
      padding-bottom: 0; 
    }

    .title-control{
      width: 100%; 
      clear: both; 
    }
  </style>

  <!-- http://www.seabreezecomputers.com/tips/mobile-css.htm -->
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=yes" />  -->
</head>
<body>


  <div class="header-wrapper">
  <div class="header">
    <div class=" header-content">
      <%= link_to root_url, class:"implicit-link" do %>
        <%= image_tag "/assets/layout/headerTitle.png" %>
      <% end -%>
      <!-- <p class="lead">Aenean commodo ligula eget dolor aenean massa</p> -->
    </div>
  </div>
  </div>

  <div class="navbar-wrapper">
  <div class="navbar navbar-main navbar-fixed navbar-inverse navbar-custom" style="">
    <div class="navbar-inner">
    <div class="container">
     
    <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    </a>
     
    <!-- Be sure to leave the brand out there if you want it shown -->
    <%#= link_to "Castleton Law Firm", root_path, class: "brand" %>
     
    <!-- Everything you want hidden at 940px or less, place within here -->
    <div class="nav-collapse collapse">
      <!-- .nav, .navbar-search, .navbar-form, etc -->
      <ul class="nav">
      <li><%= link_to "Home", root_path(anchor: "top-nav-home") %></li>
      <!-- <li><%#= link_to "Wizard", wizard_welcome_path(anchor: "top-nav-wizard") %></li> -->
      <!-- <li><%#= link_to "Wizard Bar", wizard_bar_welcome_path(anchor: "top-nav-wizard-bar") %></li> -->
      <li><%= link_to "Clients", clients_path(anchor: "top-nav-clients") %></li>
      <li><%= link_to "TMT Calculator", tmt_calculator_path(anchor: "top-nav-tmt-calculator") %></li>
      <!-- <li><%#= link_to "Link", root_path(anchor: "top-nav-link") %></li> -->

      <% if(current_user) %>
        <li><%= link_to "Log out", destroy_user_session_path, method: :delete %></li>
      <% else %>
        <li><%= link_to "Log in", new_user_session_path %></li>
      <% end -%>

      </ul>
    </div>
     
    </div>
    </div>
  </div>
  </div>

  <div class="container controller-messages">
    <div class="row">
      <div class="span12 ">
          <p class="alert alert-success" style="<%= notice.nil? ? "display: none; " : ""%>"><%= notice %></p>
          <p class="alert alert-error" style="<%= alert.nil? ? "display: none; " : ""%>"><%= alert %></p>
      </div>
    </div>
  </div>

  <div class="container">
  <div class="row main-content">
    <div class="span12 ">
      <%= yield %>
    </div>
  </div>
  </div>

</body>
</html>

<script type="text/javascript">
  $(document).ready(function(){
    // same as row.navbar-main.padding-bottom
    $('.page-navigation').affix({offset: 260});

    // update side-bar navigation to reflect current section of page
    $('body').scrollspy({target: '#page-navigation'});
    $('[data-spy="scroll"]').each(function () {
      var $spy = $(this).scrollspy('refresh')
    });
  });

  $(document).ready(function(){
    var va = new ViewAdjustment();
    va.add(".page-navigation", adjust_page_navigation);
    va.add(".header-wrapper, .header .header-content, ul.pager.wizard li", function(prop, win){
      if($(win).width() < 750){
        $(prop).addClass("narrow");
      } else {
        $(prop).removeClass("narrow");
      }
    });

    va.add(".navbar-main .navbar", function(prop, win){
      if($(win).width() < 750){
        $(prop).css("position", "static");
      } else {
        $(prop).css("position", "fixed");
      }
    });

    va.add(".navbar-main", function(prop, win){ //, .modal.modal-span10
      if($(win).width() < 765){
        $(prop).addClass("narrow");
      } else {
        $(prop).removeClass("narrow");
      }
    });
    
    va.add(".navbar-main .navbar-inner .container .nav-collapse, .header-wrapper, .header .header-content, ul.pager.wizard li, .header", function(prop, win){
      if($(win).width() < 980){
        $(prop).addClass("narrow");
      } else {
        $(prop).removeClass("narrow");
      }
    });

    va.add(".span6 form.form-horizontal, .span6 form.form-transition-from-horizontal", function(prop, win){
      if($(win).width() < 980 && $(win).width() > 765){
        //console.log("prop: " + prop);
        $(prop).removeClass("form-horizontal").addClass("form-transition-from-horizontal");
      } else {
        $(prop).addClass("form-horizontal").removeClass("form-transition-from-horizontal");
      }
    });

    va.add(".modal, .modal .data-module", function(prop, win){
      if($(win).width() > 1060){
        $(prop).addClass("col2");
      } else {
        $(prop).removeClass("col2");
      }
    });

    va.add(".modal", function(prop, win){
      if($(win).width() < 765){
        $(prop).addClass("narrow");
      } else {
        $(prop).removeClass("narrow");
      }
    });


    $(window).resize(function(){va.adjustments(this)});
    $(window).scroll(function(){va.adjustments(this)});
    $(window).bind("window:adjustement", function(){va.adjustments(this)});
    va.adjustments(window);

    // indicate which top navigation menu item is being displayed
    var top_nav_hash = location.hash.slice(1);
    $("[href $= '" + top_nav_hash + "']").closest("li").addClass("active");
  });

  // $(function() {
  //   var currentYear = new Date().getFullYear();

  //   $( "input[type='text']" ).datepicker({
  //     yearRange: String(currentYear-150)+":"+String(currentYear),
  //     changeMonth: true,
  //     changeYear: true
  //   });
  // });

  $(document).ready(function(){
    Backbone.history.start();
  });
  

</script>
